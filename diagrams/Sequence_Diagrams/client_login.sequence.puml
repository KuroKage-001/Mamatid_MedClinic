@startuml Client Login System

actor Client
participant Browser
participant "client_login.php" as PHP
database Database
participant Session
participant Cookie

' Initial Page Load
Client -> Browser: Access client login page
Browser -> PHP: GET request
PHP -> Cookie: Check for remembered email
Cookie --> PHP: Return remembered email
PHP --> Browser: Display login form\n(with remembered email if exists)

' Login Process
Client -> Browser: Submit login form\n(email, password, remember_me)
Browser -> PHP: POST login data
PHP -> PHP: Encrypt password (MD5)
PHP -> Database: SELECT client details\n(using prepared statement)
Database --> PHP: Return client data

alt Valid Credentials
    PHP -> Session: Store client data\n(id, name, email)
    
    alt Remember Me Checked
        PHP -> Cookie: Set email cookie\n(30 days expiration)
    else Remember Me Unchecked
        PHP -> Cookie: Clear email cookie
    end
    
    PHP --> Browser: Redirect to client dashboard
    Browser --> Client: Show dashboard
else Invalid Credentials
    PHP --> Browser: Show error toast\n"Incorrect email or password"
    Browser --> Client: Display error message
end

' Register Option
Client -> Browser: Click "Create New Account"
Browser --> Client: Redirect to registration page

@enduml 