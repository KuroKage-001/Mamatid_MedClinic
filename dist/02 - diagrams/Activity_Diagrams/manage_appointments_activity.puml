@startuml
skinparam defaultTextAlignment center
skinparam ArrowThickness 2
skinparam ActivityBorderThickness 2
skinparam ActivityDiamondBackgroundColor white
skinparam ActivityDiamondBorderThickness 2

title Appointment Management Subsystem

|Doctor/Health Worker|
start
:Access Appointments Page;

|System|
:Display Appointments List;

|Doctor/Health Worker|
if (Create new appointment?) then (yes)
  :Create Appointment;
  
  |System|
  :Enter Appointment Purpose;
  :Assign Doctor/Health Worker;
  
  if (Information complete?) then (yes)
    :Confirm & Save Appointment;
  else (no)
    :Show Error Message;
    ->retry;
  endif
else (no)
endif

if (View existing appointment?) then (yes)
  :View Existing Appointment;
  
  |System|
  :Search/Filter Appointments;
  
  if (Update needed?) then (yes)
    |Doctor/Health Worker|
    :Update Appointment;
    
    |System|
    if (Send notification?) then (yes)
      :Notify Patient (Email);
    else (no)
    endif
    
    if (Archive appointment?) then (yes)
      :Archive Appointment;
    else if (Unarchive?) then (yes)
      :Unarchive Appointment;
    else (no)
    endif
  else (no)
  endif
else (no)
endif

if (View appointment requests?) then (yes)
  |Doctor/Health Worker|
  :View Online Request Appointment;
  
  |System|
  :Search/Filter Appointment;
  
  |Doctor/Health Worker|
  if (Approve request?) then (yes)
    :Approve Appointment Request;
    
    |System|
    :Assign Doctor/Health Worker;
    :Set Appointment Status;
    
    if (Notify patient?) then (yes)
      :Notify Patient (Email);
    else (no)
    endif
  else (no)
    :Reject Request;
  endif
else (no)
endif

stop

@enduml 