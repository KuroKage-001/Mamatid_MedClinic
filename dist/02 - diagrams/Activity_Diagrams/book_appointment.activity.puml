@startuml Book Appointment Activity
skinparam monochrome true
skinparam shadowing false
skinparam ActivityBackgroundColor white
skinparam ActivityBorderColor black
skinparam ArrowColor black
skinparam NoteBackgroundColor white
skinparam NoteBorderColor black

|Client|
|System|

start

if (Client Logged In?) then (yes)
  |System|
  :Display Available Time Slots;
  note right: - Available dates\n- Available time slots\n- Booked slots (blocked)

  |Client|
  :Select Appointment Date;
  :Select Time Slot;
  :Fill Appointment Details;
  note right
    Required Info:
    - Full Name
    - Contact Number
    - Gender
    - Address
    - Visit Reason
    - Medical Concerns
  end note
  
  :Submit Booking Request;
  
  |System|
  :Validate Form Data;
  
  if (All Fields Complete?) then (yes)
    :Check Time Slot Availability;
    
    if (Slot Still Available?) then (yes)
      :Save Appointment Details;
      :Set Status "Pending";
      
      if (Booking Success?) then (yes)
        :Send Confirmation;
        :Show Success Message;
        note right
          Includes:
          - Reference #
          - Date & Time
          - Status
        end note
        :Go to Appointments Page;
      else (no)
        :Show Error Message;
        :Log Error;
      endif
      
    else (no)
      :Show "Slot Taken" Message;
      :Return to Slot Selection;
    endif
    
  else (no)
    :Highlight Missing Fields;
    :Show Validation Errors;
  endif
  
else (no)
  |System|
  :Redirect to Login;
  note right: Save booking details\nin session
endif

stop

@enduml 