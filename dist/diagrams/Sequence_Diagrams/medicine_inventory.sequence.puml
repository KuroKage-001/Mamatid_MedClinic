@startuml Medicine Inventory System

actor Admin
participant Browser
participant "medicine_inventory.php" as PHP
database Database

' View Inventory
Admin -> Browser: Access inventory page
Browser -> PHP: GET request
PHP -> Database: SELECT medicine details\nand current stock
Database --> PHP: Return inventory data
PHP --> Browser: Display inventory table\nand analytics chart

' Add New Inventory
Admin -> Browser: Submit inventory form\n(medicine, quantity, batch,\nexpiry, price)
Browser -> PHP: POST inventory data

PHP -> Database: BEGIN Transaction
PHP -> Database: INSERT inventory record
PHP -> Database: INSERT transaction record\n(type: IN)
alt Success
    Database --> PHP: Confirm insertion
    PHP -> Database: COMMIT Transaction
    PHP --> Browser: Show success message
else Error
    Database --> PHP: Error
    PHP -> Database: ROLLBACK Transaction
    PHP --> Browser: Show error message
end

note right of Browser
  Stock Status:
  - GOOD: Normal stock
  - MEDIUM: Running low
  - LOW: Need to reorder
  
  Analytics:
  - Fast moving medicines
  - Stock levels
  - Expiry tracking
end note

@enduml 